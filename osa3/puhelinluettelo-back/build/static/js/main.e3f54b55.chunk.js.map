{"version":3,"sources":["components/rows.js","components/messages.js","components/filter.js","components/form.js","components/phonebook.js","functions/rest.functions.js","index.js"],"names":["Rows","_ref","persons","removeContact","react_default","a","createElement","Fragment","length","map","person","i","name","number","onClick","Message","message","success","style","borderStyle","borderColor","backgroundColor","error","Filter","filterContacts","onChange","Form","addContact","nameHandler","numberHandler","onSubmit","type","Phonebook","filteredContacts","messages","filter","components_form","components_rows","baseUrl","ReactDOM","render","useEffect","axios","get","then","response","data","changeContactsState","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setMessage","_useState9","_useState10","setFilteredContacts","state","phonebook","event","substring","target","value","preventDefault","newPerson","personExists","find","id","objectSpread","put","catch","alert","concat","post","setTimeout","errors","delete","remove","e","document","getElementById"],"mappings":"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","file":"static/js/main.e3f54b55.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Rows = ({ persons, removeContact }) => {\r\n    const rows = () => {\r\n        if (persons && persons.length && persons.length > 0)\r\n            return persons.map((person, i) =>\r\n                    <li>{person.name} {person.number} <button onClick={() => removeContact(person)}>poista</button></li>\r\n            )\r\n        return 'no rows'\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ul>\r\n                {rows()}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\nexport default Rows;\r\n","import React from 'react'\r\n\r\nconst Message = ({ message }) => {\r\n    const successStyle = {\r\n        borderStyle: 'solid',\r\n        borderColor: 'green',\r\n        backgroundColor: 'light-green'\r\n    }\r\n    const errorStyle = {\r\n        borderStyle: 'solid',\r\n        borderColor: 'red',\r\n        backgroundColor: 'light-pink'\r\n    }\r\n\r\n    if (message) {\r\n        if (message.success) {\r\n            return (\r\n                <div style={successStyle}>\r\n                    {message.success}\r\n                </div>\r\n            )\r\n        } else if (message.error) {\r\n            return (\r\n                <div style={errorStyle}>\r\n                    {message.error}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    return ''\r\n}\r\nexport default Message;\r\n","import React from 'react'\r\n\r\nconst Filter = ({ filterContacts }) => {\r\n    return (\r\n        <div>\r\n            rajaa näytettäviä <input onChange={filterContacts} />\r\n        </div>\r\n    )\r\n}\r\nexport default Filter;","import React from 'react'\r\n\r\nconst Form = ({ addContact, nameHandler, numberHandler }) => {\r\n    return (\r\n        <form onSubmit={addContact}>\r\n            <div>\r\n                nimi: <input onChange={nameHandler} />\r\n            </div>\r\n            <div>\r\n                numero: <input onChange={numberHandler} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">lisää</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default Form;\r\n","import React from 'react'\r\n\r\nimport Rows from './rows'\r\nimport Message from './messages'\r\nimport Filter from './filter'\r\nimport Form from './form'\r\n\r\nconst Phonebook = ({ filterContacts, addContact, \r\n    nameHandler, numberHandler, removeContact,\r\n    filteredContacts, message }) => {\r\n    return (\r\n        <div>\r\n            <Message message={message} />\r\n            <h2>Puhelinluettelo</h2>\r\n            <Filter filterContacts={filterContacts} />\r\n            <Form addContact={addContact} nameHandler={nameHandler} numberHandler={numberHandler} />\r\n            <h2>Numerot</h2>\r\n            <Rows persons={filteredContacts} removeContact={removeContact} />\r\n        </div>\r\n    )\r\n}\r\nexport default Phonebook;","import axios from 'axios'\r\n\r\nconst baseUrl = 'https://aqueous-sea-90201.herokuapp.com/api/persons'\r\n\r\nconst getAll = () =>\r\n    axios.get(baseUrl).then(response => response.data);\r\n\r\nconst create = (person) =>\r\n    axios.post(baseUrl, person).then(response => response.data);\r\n\r\nconst remove = (person) => \r\n    axios.delete(baseUrl + '/' +  person.id).then(response => response.data);\r\n\r\nconst put = (person, id) => {\r\n    const newPerson = { ...person, id: id}\r\n    return axios.put(baseUrl + '/' +  newPerson.id, newPerson)\r\n    .then(response => response.data)\r\n    .catch(error => error);\r\n}\r\n\r\nexport { getAll, create, remove, put } ","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport Phonebook from './components/phonebook'\nimport './index.css'\nimport { getAll, create, remove, put } from './functions/rest.functions'\n\nconst App = () => {\n    useEffect(() => {\n        getAll().then(persons => {\n            changeContactsState(persons)\n        })\n    }, [])\n\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [message, setMessage] = useState({})\n    const [filteredContacts, setFilteredContacts] = useState(persons)\n\n    const changeContactsState = (state) => {\n        setPersons(state)\n        setFilteredContacts(state)\n    }\n    const addContact = (event) => {\n        event.preventDefault()\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n        const personExists = persons.find(person => person.name === newPerson.name)\n        if (!personExists) {\n            create(newPerson).then(newPerson => {\n                changeContactsState(persons.concat(newPerson))\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n                setMessage({ success: 'Listättiin ' + newPerson.name })\n            })\n            .catch(error => {\n                setTimeout(() => {\n                    setMessage(null)\n                }, 5000)\n                setMessage({error: error.response.data.error.errors.name.message})\n            });\n        } else if (personExists && newPerson.number && newPerson.number.length > 0) {\n            put(newPerson, personExists.id).then(() =>\n                changeContactsState(persons.map(person => person.id !== personExists.id ? person : newPerson))\n            )\n        } else {\n            alert(`${newName} on jo luettelossa`)\n        }\n    }\n    const removeContact = (person) => {\n        remove(person)\n            .then(() => {\n                changeContactsState(persons.filter(e => e.id !== person.id))\n            })\n    }\n\n    const nameHandler = (event) => setNewName(event.target.value)\n    const numberHandler = (event) => setNewNumber(event.target.value)\n    const filterContacts = (event) =>\n        setFilteredContacts(persons.filter(person =>\n            person.name.substring(\n                0, event.target.value.length) === event.target.value)\n        )\n    return (\n        <Phonebook filterContacts={filterContacts} addContact={addContact}\n            nameHandler={nameHandler} numberHandler={numberHandler}\n            filteredContacts={filteredContacts}\n            message={message} removeContact={removeContact} />\n    )\n}\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}